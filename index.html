<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>For You ‚ù§Ô∏è</title>
    <!-- Tailwind for layout -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Dancing+Script:wght@700&family=Montserrat:wght@300;400;600&display=swap" rel="stylesheet">
    <style>
        /* CUSTOM STYLES */
        body {
            margin: 0;
            padding: 0;
            overflow: hidden;
            font-family: 'Montserrat', sans-serif;
            background-color: #0f172a;
        }

        /* The Background Image Container */
        #bg-image {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            /* UPDATED: Uses your local file now */
            background-image: url('./proposal.jpg'); 
            background-size: cover;
            background-position: center;
            z-index: -2;
            transition: filter 2s ease;
        }

        /* Overlay */
        .overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(to bottom, rgba(15, 23, 42, 0.3), rgba(15, 23, 42, 0.85));
            z-index: -1;
        }

        /* Lantern Animation */
        .lantern {
            position: absolute;
            background: radial-gradient(circle, #ffdb58 0%, #ffa500 100%);
            width: 18px;
            height: 28px;
            border-radius: 5px 5px 15px 15px;
            bottom: -50px;
            opacity: 0.8;
            box-shadow: 0 0 15px #ffae00, 0 0 30px #ff6a00;
            animation: floatUp linear infinite;
        }

        @keyframes floatUp {
            0% { transform: translateY(0) scale(1) rotate(0deg); opacity: 0; }
            10% { opacity: 0.9; }
            100% { transform: translateY(-110vh) scale(0.5) rotate(10deg); opacity: 0; }
        }

        /* Typography */
        h1, h2 {
            font-family: 'Dancing Script', cursive;
            text-shadow: 0 0 10px rgba(255, 215, 0, 0.5);
        }

        /* Glass Card */
        .glass-card {
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(10px);
            -webkit-backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.2);
            box-shadow: 0 8px 32px 0 rgba(0, 0, 0, 0.37);
        }

        /* Transitions */
        .fade-out {
            opacity: 0 !important;
            pointer-events: none;
            transition: opacity 1s ease;
        }
        
        .fade-in {
            opacity: 1 !important;
            pointer-events: auto;
            transition: opacity 1.5s ease 0.5s;
        }

        .hidden-content {
            opacity: 0;
            pointer-events: none;
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 90%;
            max-width: 600px;
            text-align: center;
        }
    </style>
</head>
<body class="text-white h-screen w-screen flex flex-col items-center justify-center">

    <div id="bg-image"></div>
    <div class="overlay"></div>
    <div id="lantern-container" class="fixed inset-0 pointer-events-none z-0"></div>

    <!-- AUDIO: Ensure 'song.mp3' is in your repo -->
    <audio id="bg-music" loop>
        <source src="song.mp3" type="audio/mpeg">
    </audio>

    <!-- PHASE 1: Birthday Greeting -->
    <div id="phase-1" class="glass-card p-8 md:p-12 rounded-2xl text-center z-10 max-w-sm md:max-w-md mx-4 transition-all duration-1000">
        <h1 class="text-5xl md:text-6xl mb-6 text-amber-300">Happy Birthday!</h1>
        <p class="text-lg md:text-xl mb-8 font-light leading-relaxed text-gray-100">
            To the most beautiful soul in the universe. <br>
            Make a wish...
        </p>
        <button onclick="startProposal()" class="bg-amber-500 hover:bg-amber-600 active:bg-amber-700 text-white font-semibold py-4 px-10 rounded-full shadow-lg transform active:scale-95 transition-all duration-300 animate-pulse text-lg">
            ‚ú® Make a Wish ‚ú®
        </button>
    </div>

    <!-- PHASE 2: The Proposal -->
    <div id="phase-2" class="hidden-content z-10">
        <h1 class="text-5xl md:text-7xl mb-8 text-amber-200">Will You...</h1>
        <p class="text-2xl md:text-3xl mb-12 font-light drop-shadow-lg leading-relaxed text-white">
            Hold my hand and become the Queen üëë‚ù§Ô∏è
        </p>
        
        <div class="flex flex-col md:flex-row gap-6 justify-center items-center w-full px-8">
            <button onclick="sheSaidYes()" class="bg-rose-600 hover:bg-rose-700 active:bg-rose-800 text-white text-xl font-bold py-4 px-12 rounded-full shadow-2xl transform active:scale-95 transition-all duration-300 w-full md:w-auto">
                YES! üíç
            </button>
            <button onclick="alert('Error: This button is disabled by the universe üòâ')" class="bg-gray-500/30 hover:bg-gray-500/50 text-gray-300 text-sm py-3 px-8 rounded-full backdrop-blur-sm border border-gray-500/30">
                No (404)
            </button>
        </div>
    </div>

    <!-- PHASE 3: The Promise (Final Screen) -->
    <div id="phase-3" class="hidden-content z-20 w-full px-4">
        <div class="glass-card p-6 rounded-2xl mx-auto max-w-lg border border-amber-500/30">
            <!-- UPDATED: Uses your local file now -->
            <img src="./proposal.jpg" 
                 alt="Our Future" 
                 class="w-full h-64 md:h-80 object-cover rounded-xl mb-6 shadow-lg border-2 border-amber-200/50">
            
            <h2 class="text-3xl md:text-4xl font-bold text-amber-100 mb-2 leading-tight">
                Let's recreate this moment in future!
            </h2>
            <p class="text-xs text-amber-200/70 mt-4 tracking-widest uppercase">Screenshot this ‚ù§Ô∏è</p>
        </div>
    </div>

    <script>
        // LANTERN LOGIC
        function createLantern() {
            const container = document.getElementById('lantern-container');
            if (!container) return;

            const lantern = document.createElement('div');
            lantern.classList.add('lantern');
            
            lantern.style.left = Math.random() * 100 + 'vw';
            const duration = Math.random() * 5 + 8 + 's';
            lantern.style.animationDuration = duration;
            const scale = Math.random() * 0.5 + 0.5;
            lantern.style.transform = `scale(${scale})`;

            container.appendChild(lantern);

            setTimeout(() => { lantern.remove(); }, parseFloat(duration) * 1000);
        }

        setInterval(createLantern, 800);

        // TRANSITIONS
        function startProposal() {
            // Audio
            const music = document.getElementById('bg-music');
            if(music) {
                music.volume = 0.5;
                music.play().catch(e => console.log("Click allowed audio play"));
            }

            // Phase 1 -> Phase 2
            document.getElementById('phase-1').classList.add('fade-out');
            
            let intenseInterval = setInterval(createLantern, 150);
            setTimeout(() => { clearInterval(intenseInterval); }, 5000);

            const p2 = document.getElementById('phase-2');
            p2.classList.remove('hidden-content');
            p2.classList.add('fade-in');

            document.getElementById('bg-image').style.filter = "brightness(1.0)";
        }

        function sheSaidYes() {
            // Phase 2 -> Phase 3
            const p2 = document.getElementById('phase-2');
            p2.classList.remove('fade-in');
            p2.classList.add('fade-out');

            const p3 = document.getElementById('phase-3');
            p3.classList.remove('hidden-content');
            p3.classList.add('fade-in');

            // Celebration Mode
            setInterval(createLantern, 100);
        }
    </script>
</body>
</html>
